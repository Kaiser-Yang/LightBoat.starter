return {
  'Kaiser-Yang/maplayer.nvim',
  config = function()
    local c = require('lightboat.condition')
    local h = require('lightboat.handler')
    require('maplayer').setup({
      {
        key = '1',
        mode = 'i',
        desc = 'Insert Markdown Title 1',
        condition = function() return c.filetype('markdown') and c.last_key(vim.g.maplocalleader) end,
        handler = h.markdown_title(1),
      },
      {
        key = '2',
        mode = 'i',
        desc = 'Insert Markdown Title 2',
        condition = function() return c.filetype('markdown') and c.last_key(vim.g.maplocalleader) end,
        handler = h.markdown_title(2),
      },
      {
        key = '3',
        mode = 'i',
        desc = 'Insert Markdown Title 3',
        condition = function() return c.filetype('markdown') and c.last_key(vim.g.maplocalleader) end,
        handler = h.markdown_title(3),
      },
      {
        key = '4',
        mode = 'i',
        desc = 'Insert Markdown Title 4',
        condition = function() return c.filetype('markdown') and c.last_key(vim.g.maplocalleader) end,
        handler = h.markdown_title(4),
      },
      {
        key = 's',
        mode = 'i',
        desc = 'Insert Markdown Separate Line',
        condition = function() return c.filetype('markdown') and c.last_key(vim.g.maplocalleader) end,
        handler = h.markdown_separate_line,
      },
      {
        key = 'm',
        mode = 'i',
        desc = 'Insert Markdown Inline Math',
        condition = function() return c.filetype('markdown') and c.last_key(vim.g.maplocalleader) end,
        handler = h.markdown_math_inline_2,
      },
      {
        key = 't',
        mode = 'i',
        desc = 'Insert Markdown Code Line',
        condition = function() return c.filetype('markdown') and c.last_key(vim.g.maplocalleader) end,
        handler = h.markdown_code_line,
      },
      {
        key = 'x',
        mode = 'i',
        desc = 'Insert Markdown Todo',
        condition = function() return c.filetype('markdown') and c.last_key(vim.g.maplocalleader) end,
        handler = h.markdown_todo,
      },
      {
        key = 'a',
        mode = 'i',
        desc = 'Insert Markdown Link',
        condition = function() return c.filetype('markdown') and c.last_key(vim.g.maplocalleader) end,
        handler = h.markdown_link,
      },
      {
        key = 'b',
        mode = 'i',
        desc = 'Insert Markdown Bold Text',
        condition = function() return c.filetype('markdown') and c.last_key(vim.g.maplocalleader) end,
        handler = h.markdown_bold,
      },
      {
        key = 'd',
        mode = 'i',
        desc = 'Delete Current Line',
        condition = function() return c.filetype('markdown') and c.last_key(vim.g.maplocalleader) end,
        handler = h.markdown_delete_line,
      },
      {
        key = 'i',
        mode = 'i',
        desc = 'Insert Markdown Italic Text',
        condition = function() return c.filetype('markdown') and c.last_key(vim.g.maplocalleader) end,
        handler = h.markdown_italic,
      },
      {
        key = 'M',
        mode = 'i',
        desc = 'Insert Markdown Math Block',
        condition = function() return c.filetype('markdown') and c.last_key(vim.g.maplocalleader) end,
        handler = h.markdown_math_block,
      },
      {
        key = 'c',
        mode = 'i',
        desc = 'Insert Markdown Code Block',
        condition = function() return c.filetype('markdown') and c.last_key(vim.g.maplocalleader) end,
        handler = h.markdown_code_block,
      },
      {
        key = 'f',
        mode = 'i',
        desc = 'Markdown Goto Placeholder',
        condition = function() return c.filetype('markdown') and c.last_key(vim.g.maplocalleader) end,
        handler = h.markdown_goto_placeholder,
      },
      {
        key = ';',
        mode = { 'n', 'x' },
        handler = h.repmove_semicolon,
        desc = 'Repeat Last Motion Forward',
      },
      {
        key = ',',
        mode = { 'n', 'x' },
        handler = h.repmove_comma,
        desc = 'Repeat Last Motion Backward',
      },
      {
        key = 'f',
        mode = { 'n', 'x' },
        handler = h.repmove_builtin_f,
        desc = 'Find Next Character',
      },
      {
        key = 'F',
        mode = { 'n', 'x' },
        handler = h.repmove_builtin_F,
        desc = 'Find Previous Character',
      },
      {
        key = 't',
        mode = { 'n', 'x' },
        handler = h.repmove_builtin_t,
        desc = 'Till Next Character',
      },
      {
        key = 'T',
        mode = { 'n', 'x' },
        handler = h.repmove_builtin_T,
        desc = 'Till Previous Character',
      },
      {
        key = '[s',
        mode = { 'n', 'x', 'o' },
        handler = h.repmove_previous_misspelled,
        desc = 'Jump Previous Misspelled Word',
      },
      {
        key = ']s',
        mode = { 'n', 'x', 'o' },
        handler = h.repmove_next_misspelled,
        desc = 'Jump Next Misspelled Word',
      },
      {
        key = '[m',
        mode = { 'n', 'x', 'o' },
        handler = h.repmove_previous_function_start,
        condition = c.treesitter_available,
        desc = 'Jump Previous Method Start',
      },
      {
        key = ']m',
        mode = { 'n', 'x', 'o' },
        handler = h.repmove_next_function_start,
        condition = c.treesitter_available,
        desc = 'Jump Next Method Start',
      },
      {
        key = '[M',
        mode = { 'n', 'x', 'o' },
        handler = h.repmove_previous_function_end,
        condition = c.treesitter_available,
        desc = 'Jump Previous Method End',
      },
      {
        key = ']M',
        mode = { 'n', 'x', 'o' },
        handler = h.repmove_next_function_end,
        condition = c.treesitter_available,
        desc = 'Jump Next Method End',
      },
      {
        key = '[[',
        mode = { 'n', 'x', 'o' },
        handler = h.repmove_previous_block_start,
        condition = c.treesitter_available,
        desc = 'Jump Previous Block Start',
      },
      {
        key = ']]',
        mode = { 'n', 'x', 'o' },
        handler = h.repmove_next_block_start,
        condition = c.treesitter_available,
        desc = 'Jump Next Block Start',
      },
      {
        key = '[]',
        mode = { 'n', 'x', 'o' },
        handler = h.repmove_previous_block_end,
        condition = c.treesitter_available,
        desc = 'Jump Previous Block End',
      },
      {
        key = '][',
        mode = { 'n', 'x', 'o' },
        handler = h.repmove_next_block_end,
        condition = c.treesitter_available,
        desc = 'Jump Next Block End',
      },
      {
        key = '[i',
        mode = { 'n', 'x', 'o' },
        handler = h.rempove_previous_conditional_start,
        condition = c.treesitter_available,
        desc = 'Jump Previous If Start',
      },
      {
        key = ']i',
        mode = { 'n', 'x', 'o' },
        handler = h.rempove_next_conditional_start,
        condition = c.treesitter_available,
        desc = 'Jump Next If Start',
      },
      {
        key = '[I',
        mode = { 'n', 'x', 'o' },
        handler = h.rempove_previous_conditional_end,
        condition = c.treesitter_available,
        desc = 'Jump Previous If End',
      },
      {
        key = ']I',
        mode = { 'n', 'x', 'o' },
        handler = h.rempove_next_conditional_end,
        condition = c.treesitter_available,
        desc = 'Jump Next If End',
      },
      {
        key = '[f',
        mode = { 'n', 'x', 'o' },
        handler = h.repmove_previous_loop_start,
        condition = c.treesitter_available,
        desc = 'Jump Previous For Start',
      },
      {
        key = ']f',
        mode = { 'n', 'x', 'o' },
        handler = h.repmove_next_loop_start,
        condition = c.treesitter_available,
        desc = 'Jump Next For Start',
      },
      {
        key = '[F',
        mode = { 'n', 'x', 'o' },
        handler = h.repmove_previous_loop_end,
        condition = c.treesitter_available,
        desc = 'Jump Previous For End',
      },
      {
        key = ']F',
        mode = { 'n', 'x', 'o' },
        handler = h.repmove_next_loop_end,
        condition = c.treesitter_available,
        desc = 'Jump Next For End',
      },
      {
        key = '[r',
        mode = { 'n', 'x', 'o' },
        handler = h.repmove_previous_return_start,
        condition = c.treesitter_available,
        desc = 'Jump Previous Return Start',
      },
      {
        key = ']r',
        mode = { 'n', 'x', 'o' },
        handler = h.repmove_next_return_start,
        condition = c.treesitter_available,
        desc = 'Jump Next Return Start',
      },
      {
        key = '[R',
        mode = { 'n', 'x', 'o' },
        handler = h.repmove_previous_return_end,
        condition = c.treesitter_available,
        desc = 'Jump Previous Return End',
      },
      {
        key = ']R',
        mode = { 'n', 'x', 'o' },
        handler = h.repmove_next_return_end,
        condition = c.treesitter_available,
        desc = 'Jump Next Return End',
      },
      {
        key = '[c',
        mode = { 'n', 'x' , 'o'},
        handler = h.repmove_previous_class_start,
        desc = 'Jump Previous Class Start',
      },
      {
        key = ']c',
        mode = { 'n', 'x' , 'o'},
        handler = h.repmove_next_class_start,
        desc = 'Jump Next Class Start',
      },
      {
        key = '[C',
        mode = { 'n', 'x' , 'o'},
        handler = h.repmove_previous_class_end,
        desc = 'Jump Previous Class End',
      },
      {
        key = ']C',
        mode = { 'n', 'x' , 'o'},
        handler = h.repmove_next_class_end,
        desc = 'Jump Next Class End',
      },
      {
        key = 'am',
        mode = { 'o', 'x' },
        handler = h.repmove_around_function,
        condition = c.treesitter_available,
        desc = 'Around Method',
      },
      {
        key = 'im',
        mode = { 'o', 'x' },
        handler = h.repmove_inside_function,
        condition = c.treesitter_available,
        desc = 'Inside Method',
      },
      {
        key = 'ab',
        mode = { 'o', 'x' },
        handler = h.around_block,
        condition = c.treesitter_available,
        desc = 'Around Block',
      },
      {
        key = 'ib',
        mode = { 'o', 'x' },
        handler = h.inside_block,
        condition = c.treesitter_available,
        desc = 'Inside Block',
      },
      {
        key = 'ae',
        mode = { 'o', 'x' },
        handler = h.around_file,
        desc = 'Around Edit',
      },
      {
        key = 'ai',
        mode = { 'o', 'x' },
        handler = h.around_conditional,
        condition = c.treesitter_available,
        desc = 'Around If',
      },
      {
        key = 'ii',
        mode = { 'o', 'x' },
        handler = h.inside_conditional,
        condition = c.treesitter_available,
        desc = 'Inside If',
      },
      {
        key = 'af',
        mode = { 'o', 'x' },
        handler = h.around_loop,
        condition = c.treesitter_available,
        desc = 'Around For',
      },
      {
        key = 'if',
        mode = { 'o', 'x' },
        handler = h.inside_loop,
        condition = c.treesitter_available,
        desc = 'Inside For',
      },
      {
        key = 'ar',
        mode = { 'o', 'x' },
        handler = h.around_return,
        condition = c.treesitter_available,
        desc = 'Around Return',
      },
      {
        key = 'ir',
        mode = { 'o', 'x' },
        handler = h.inside_return,
        condition = c.treesitter_available,
        desc = 'Inside Return',
      },
      {
        key = 'ac',
        mode = { 'o', 'x' },
        handler = h.around_class,
        condition = c.treesitter_available,
        desc = 'Around Class',
      },
      {
        key = 'ic',
        mode = { 'o', 'x' },
        handler = h.inside_class,
        condition = c.treesitter_available,
        desc = 'Inside Class',
      }
    })
  end,
}
